

---------------------------------------------GoogleFlight.html-----------------------------------------
<!doctype html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Light Theme</title>
<link href="singlePageTemplate.css" rel="stylesheet" type="text/css">
<!--The following script tag downloads a font from the Adobe Edge Web Fonts server for use within the web page. We recommend that you do not modify it.-->
<script>var __adobewebfontsappname__="dreamweaver"</script>
<script src="http://use.edgefonts.net/source-sans-pro:n2:default.js" type="text/javascript"></script>

</head>
<body>
<p style="text-align: center;">
<!-- Main Container -->
<img src="https://www.informatique-mania.com/wp-content/uploads/2020/12/Que-es-y-Como-usar-Google-Flights.jpg" width="900" height="386" alt=""/>
<div class="container"> 
  <!-- Navigation -->
  <header> <a href="">
    <pre class="logo">Sample Website for INSY661 Project&nbsp;</pre>
  </a>
    <nav>
      <ul>
        <li><a href="#hero">HOME</a></li>

        <li> <a href="#contact">QUERIES</a></li>

        <li><a href="DB.php">DATABASE</a></li>
      </ul>
    </nav>
  </header>
  <!-- Hero Section -->
  <section id="hero"> </section>
  <!-- About Section -->
  <section class="about" id="about">
    <h2 class="hidden">About</h2>

    <p class="text_column">We intend to create an online flight booking search service for members which facilitates the purchase of airline tickets through third-party suppliers.This online platform that allows our members to explore flights and compare prices between various destinations. Members can search  future planned flights, from any destination worldwide to compare length of flight, airline companies, price, the Co2 impact of various flights, max party size (available # of seats),   and compare days surrounding (flexibility). </p>


  </section>
  
  <!-- Stats Gallery Section -->
  <div class="gallery">
    <div class="thumbnail">
      <h1 class="stats">6</h1>
      <h4>Airlines&nbsp;</h4>

    </div>
    <div class="thumbnail">
      <h1 class="stats">8</h1>
      <h4>Airports</h4>

    </div>
    <div class="thumbnail">
      <h1 class="stats">11&nbsp;</h1>
      <h4>Flights</h4>

    </div>
    <div class="thumbnail">
      <h1 class="stats">49&nbsp;</h1>
      <h4>Passengers</h4>

    </div>
  </div>

  <!-- Parallax Section 
<form action="checkpassword.php" method="post">
Depature Airport: <input type="text" name="name" />
Depature Date: <input type="text" name="pwd" />
<input type="submit" />
</form>-->

  <!-- More Info Section -->

<h5>Queries are stored in below&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</h5>

<div id="div_top_hypers">
    <ul id="ul_top_hypers">
            <a href="Q1.php">Query 1:</a> Show the CO2 emission rate of all the flights that have an average duration less than 5 hours</a> <br />
            <a href="Q2.php">Query 2:</a> Show all the aircrafts that were built before 2008 and that do not have the WIFI option</a> <br />
            <a href="Q3.php">Query 3:</a> Show the airline names that have a reputation rate greater than the average</a> <br />
			<a href="Q4.php">Query 4:</a> Show the Airports that have a reputation rate greater than 4</a> <br />
			<a href="Q5.php">Query 5:</a> Show the average age of passengers by sex</a> <br />
			<a href="Q6.php">Query 6:</a> Show customers that purchased tickets that are worth 2000$ and more</a> <br />
			<a href="Q7.php">Query 7:</a> Show the average CO2 emission of all the flights</a> <br />
			<a href="Q8.php">Query 8:</a> Find Airports with higher than average ratings</a> <br /> 
			<a href="Q9.php">Query 9:</a> Find Max and Min price of tickets</a> <br />
			<a href="Q10.php">Query 10:</a> Show number gmail accounts by male or females passengers</a> <br />
			<a href="Q11.php">Query 11:</a> Show most traveled airports by number of tickets</a> <br />
			<a href="Q12.php">Query 12:</a> Show least popular desination buy number of tickets</a> <br />
			<a href="Q13.php">Query 13:</a> Show most popular aircraft by average number of tickets per flight</a> <br />
			<a href="Q14.php">Query 14:</a> Show number of emails broken down by domain and geneder</a> <br />
			<a href="Q15.php">Query 15:</a> Find out the top three aircraft models with the highest average CO2 emissions for flights with durations between 5 and 10 hours</a> <br /> 
			<a href="Q16.php">Query 16:</a> Find correlation between an airline's reputation score and its number of accidents</a> <br />
			<a href="Q17.php">Query 17:</a> Find out the average leg space of seats by class and aircraft model</a> <br />
			<a href="Q18.php">Query 18:</a> Show Destination city, Departure_Datetime, Price, Duration which flights’ departure date within 2021-Oct and departure airport is Pearson, Sort prices in ASC</a> <br />
			<a href="Q19.php">Query 19:</a> Show airline name, flight ID which flight has first class seat, USB, and WIFI, Lounge as well</a> <br />
			<a href="Q20.php">Query 20:</a> Show the name, birthday, phone number of all passengers who do not currently have a ticket purchased</a> <br />
			<a href="Q21.php">Query 21:</a> Show the airline name and all the flights it has, the airline which has a minimal number of accidents</a> <br />
    </ul>
</div>
    <article class="footer_column">

    </article>
  <!-- Footer Section -->
  <section class="footer_banner" id="contact">
    <h2 class="hidden">Footer Banner Section </h2>
    <p class="hero_header">FOR THE LATEST NEWS &amp; OFFERS</p>
    <div class="button">subscribe</div>
  </section>
  <!-- Copyrights Section -->
  <div class="copyright">&copy;2022 - <strong>Google Flight</strong></div>
</div>
<!-- Main Container Ends -->
</body>
</html>



-----------------------------------------------------singlePageTemplate.css--------------------------------------------


@charset "UTF-8";
/* Body */
body {
	font-family: source-sans-pro;
	background-color: #f2f2f2;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	font-style: normal;
	font-weight: 200;
}
/* Container */
.container {
	width: 90%;
	margin-left: auto;
	margin-right: auto;
	height: 1000px;
	background-color: #FFFFFF;
}
/* Navigation */
header {
	width: 100%;
	height: 5%;
	background-color: #52bad5;
	border-bottom: 1px solid #2C9AB7;
}
.logo {
	color: #fff;
	font-weight: bold;
	text-align: undefined;
	width: 10%;
	float: left;
	margin-top: 15px;
	margin-left: 25px;
	letter-spacing: 4px;
}
nav {
	float: right;
	width: 50%;
	text-align: right;
	margin-right: 25px;
}
header nav ul {
	list-style: none;
	float: right;
}
nav ul li {
	float: left;
	color: #FFFFFF;
	font-size: 14px;
	text-align: left;
	margin-right: 25px;
	letter-spacing: 2px;
	font-weight: bold;
	transition: all 0.3s linear;
}
ul li a {
	color: #FFFFFF;
	text-decoration: none;
}
ul li:hover a {
	color: #2C9AB7;
}
.hero_header {
	color: #FFFFFF;
	text-align: center;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	letter-spacing: 4px;
}
/* Hero Section */
.hero {
	background-color: #B3B3B3;
	padding-top: 150px;
	padding-bottom: 150px;
}
.light {
	font-weight: bold;
	color: #717070;
}
.tagline {
	text-align: center;
	color: #FFFFFF;
	margin-top: 4px;
	font-weight: lighter;
	text-transform: uppercase;
	letter-spacing: 1px;
}
/* About Section */
.text_column {
	width: 29%;
	text-align: justify;
	font-weight: lighter;
	line-height: 25px;
	float: left;
	padding-left: 20px;
	padding-right: 20px;
	color: #A3A3A3;
}
.about {
	padding-left: 25px;
	padding-right: 25px;
	padding-top: 35px;
	display: inline-block;
	background-color: #FFFFFF;
	margin-top: 0px;
}
/* Stats Gallery */
.stats {
	color: #717070;
	margin-bottom: 5px;
}
.gallery {
	clear: both;
	display: inline-block;
	width: 100%;
	background-color: #FFFFFF;
	/* [disabled]min-width: 400px;
*/
	padding-bottom: 35px;
	padding-top: 0px;
	margin-top: -5px;
	margin-bottom: 0px;
}
.thumbnail {
	width: 25%;
	text-align: center;
	float: left;
	margin-top: 35px;
}
.gallery .thumbnail h4 {
	margin-top: 5px;
	margin-right: 5px;
	margin-bottom: 5px;
	margin-left: 5px;
	color: #52BAD5;
}
.gallery .thumbnail p {
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	color: #A3A3A3;
}
/* Parallax Section */
.banner {
	background-color: #2D9AB7;
	background-image: url(../images/parallax.png);
	height: 400px;
	background-attachment: fixed;
	background-size: cover;
	background-repeat: no-repeat;
}
.parallax {
	color: #FFFFFF;
	text-align: right;
	padding-right: 100px;
	padding-top: 110px;
	letter-spacing: 2px;
	margin-top: 0px;
}
.parallax_description {
	color: #FFFFFF;
	text-align: right;
	padding-right: 100px;
	width: 30%;
	float: right;
	font-weight: lighter;
	line-height: 23px;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
}
/* More info */
footer {
	background-color: #FFFFFF;
	padding-bottom: 35px;
}
.footer_column {
	width: 50%;
	text-align: center;
	padding-top: 30px;
	float: left;
}
footer .footer_column h3 {
	color: #B3B3B3;
	text-align: center;
}
footer .footer_column p {
	color: #717070;
	background-color: #FFFFFF;
}
.cards {
	width: 100%;
	height: auto;
	max-width: 400px;
	max-height: 200px;
}
footer .footer_column p {
	padding-left: 30px;
	padding-right: 30px;
	text-align: justify;
	line-height: 25px;
	font-weight: lighter;
	margin-left: 20px;
	margin-right: 20px;
}
.button {
	width: 200px;
	margin-top: 40px;
	margin-right: auto;
	margin-bottom: auto;
	margin-left: auto;
	padding-top: 20px;
	padding-right: 10px;
	padding-bottom: 20px;
	padding-left: 10px;
	text-align: center;
	vertical-align: middle;
	border-radius: 0px;
	text-transform: uppercase;
	font-weight: bold;
	letter-spacing: 2px;
	border: 3px solid #FFFFFF;
	color: #FFFFFF;
	transition: all 0.3s linear;
}
.button:hover {
	background-color: #FEFEFE;
	color: #C4C4C4;
	cursor: pointer;
}
.copyright {
	text-align: center;
	padding-top: 20px;
	padding-bottom: 20px;
	background-color: #717070;
	color: #FFFFFF;
	text-transform: uppercase;
	font-weight: lighter;
	letter-spacing: 2px;
	border-top-width: 2px;
}
.footer_banner {
	background-color: #B3B3B3;
	padding-top: 60px;
	padding-bottom: 60PX;
	margin-bottom: 0px;
	background-image: url(../images/pattern.png);
	background-repeat: repeat;
}
footer {
	display: inline-block;
}
.hidden {
	display: none;
}

/* Mobile */
@media (max-width: 320px) {
.logo {
	width: 100%;
	text-align: center;
	margin-top: 13px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
}
.container header nav {
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	width: 100%;
	float: none;
	display: none;
}
header nav ul {
}
nav ul li {
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	width: 100%;
	text-align: center;
}
.text_column {
	width: 100%;
	text-align: justify;
	padding-top: 0px;
	padding-right: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
}
.thumbnail {
	width: 100%;
}
.footer_column {
	width: 100%;
	margin-top: 0px;
}
.parallax {
	text-align: center;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	padding-top: 40%;
	padding-right: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	width: 100%;
	font-size: 18px;
}
.parallax_description {
	padding-top: 0px;
	padding-right: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	width: 90%;
	margin-top: 25px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 12px;
	float: none;
	text-align: center;
}
.banner {
	background-color: #2D9AB7;
	background-image: none;
}
.tagline {
	margin-top: 20px;
	line-height: 22px;
}
.hero_header {
	padding-left: 10px;
	padding-right: 10px;
	line-height: 22px;
	text-align: center;
}
}

/* Small Tablets */
@media (min-width: 321px)and (max-width: 767px) {
.logo {
	width: 100%;
	text-align: center;
	margin-top: 13px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	color: #043745;
}
.container header nav {
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	width: 100%;
	float: none;
	overflow: auto;
	display: inline-block;
	background: #52bad5;
}
header nav ul {
	padding: 0px;
	float: none;
}
nav ul li {
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	width: 100%;
	text-align: center;
	padding-top: 8px;
	padding-bottom: 8px;
}
.text_column {
	width: 100%;
	text-align: left;
	padding-top: 0px;
	padding-right: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
}
.thumbnail {
	width: 100%;
}
.footer_column {
	width: 100%;
	margin-top: 0px;
}
.parallax {
	text-align: center;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	padding-top: 40%;
	padding-right: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	width: 100%;
	font-size: 18px;
}
.parallax_description {
	padding-top: 0px;
	padding-right: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	margin-top: 30%;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	float: none;
	width: 100%;
	text-align: center;
}
.thumbnail {
	width: 50%;
}
.parallax {
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	padding-right: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	padding-top: 20%;
}
.parallax_description {
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	width: 100%;
	padding-top: 30px;
}
.banner {
	padding-left: 20px;
	padding-right: 20px;
}
.footer_column {
	width: 100%;
}
}

/* Small Desktops */
@media (min-width: 768px) and (max-width: 1096px) {
.text_column {
	width: 100%;
}
.thumbnail {
	width: 50%;
}
.text_column {
	width: 100%;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: 0px;
	padding-top: 0px;
	padding-right: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
}
.banner {
	margin-top: 0px;
	padding-top: 0px;
}
}





-------------------------------------------------------DB.php--------------------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>



<?php
$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$connection = mysqli_connect($servername,$username, $password, $db, $port);
if ($conn->connect_error) {
  die("Connection failed: " . $conn->connect_error);
}
echo "Connected DB successfully";
?>

<h1>DDL for our Database provided below:</h1>

<h7> CREATE TABLE  Airline  (  Airline_Code  VARCHAR(5) NOT NULL ,  Airline_Name  VARCHAR(40) NOT NULL ,  Reputation_Rate  FLOAT(5) NOT NULL ,  Num_Accidents  INT NOT NULL , PRIMARY KEY ( Airline_Code )) ;
<br /><br />
CREATE TABLE  Airports  (  Airport_Code  VARCHAR(5) NOT NULL ,  Airport_Name  VARCHAR(30) NOT NULL ,  Airport_City  VARCHAR(30) NOT NULL ,  Airport_Capacity  INT(15) NOT NULL ,  Reputation  FLOAT(5) NOT NULL ,  Duty_Free  BOOLEAN NOT NULL ,  Lounge  BOOLEAN NOT NULL ,  Average_Wait_Time  FLOAT(5) NOT NULL , PRIMARY KEY ( Airport_Code )) ;
<br /><br />
CREATE TABLE  Passengers  (  Passenger_ID  INT(10) NOT NULL ,  Passport_Number  VARCHAR(10) NOT NULL ,  First_Name  VARCHAR(20) NOT NULL ,  Last_Name  VARCHAR(20) NOT NULL ,  Sex  VARCHAR(8) NOT NULL ,  Age  INT(3) NOT NULL ,  Birth  DATE NOT NULL ,  Phone  VARCHAR(20) NOT NULL ,  Email  VARCHAR(40) NOT NULL , PRIMARY KEY ( Passenger_ID ));
<br /><br />
CREATE TABLE  Aircraft  (  Model  VARCHAR(20) NOT NULL ,  Manufacturer  VARCHAR(20) NOT NULL ,  Wifi_Option  BOOLEAN NOT NULL ,  Passenger_Capacity  INT(3) NOT NULL ,  Year_Build  INT(4) NOT NULL , PRIMARY KEY ( Model )) ;
<br /><br />
CREATE TABLE  Flight  (  Flight_ID  INT(10) NOT NULL ,  Departure_Datetime  DATETIME(6) NOT NULL ,  Reference_Price  FLOAT(8) NOT NULL ,  Duration  FLOAT(5) NOT NULL ,  Arrival_Datetime  DATETIME(6) NOT NULL ,  CO2_Emissions  FLOAT(10) NOT NULL ,  Airline_Code  VARCHAR(5) NOT NULL ,  Airport_Code_Departure  VARCHAR(5) NOT NULL ,  Airport_Code_Arrival  VARCHAR(5) NOT NULL ,  Model  VARCHAR(20) NOT NULL ,
 PRIMARY KEY ( Flight_ID ), FOREIGN KEY ( Airport_Code_Departure )  REFERENCES Airports (  Airport_Code  ), FOREIGN KEY ( Airport_Code_Arrival )  REFERENCES Airports (  Airport_Code  ), FOREIGN KEY ( Airline_Code)  REFERENCES Airline (  Airline_Code  ), FOREIGN KEY ( Model  )  REFERENCES Aircraft (  Model   ) );
 <br /><br />
CREATE TABLE  Seat  (  Seat_ID  VARCHAR(13) NOT NULL ,  Class  VARCHAR(15) NOT NULL ,  Leg_Space  FLOAT(5) NOT NULL ,  USB  BOOLEAN NOT NULL ,  Flight_ID  INT(10) NOT NULL , PRIMARY KEY ( Seat_ID ),  Foreign Key  ( Flight_ID ) REFERENCES Flight (Flight_ID)) ;
 <br /><br />
CREATE TABLE  Ticket  (  Reference_Num  INT(10) NOT NULL ,  Purchase_ID  INT(10) NOT NULL ,  Priority  BOOLEAN NOT NULL ,  Meal_Option  BOOLEAN NOT NULL ,  Discount  FLOAT(5) NOT NULL ,  Purchase_Date  DATE NOT NULL ,  Price_Paid  FLOAT(8) NOT NULL ,  Seat_ID  VARCHAR(13) NOT NULL ,  Passenger_ID  INT(10) NOT NULL , PRIMARY KEY ( Reference_Num ) , FOREIGN KEY(  Seat_ID  ) REFERENCES Seat (  Seat_ID  ), FOREIGN KEY(  Passenger_ID  ) REFERENCES Passengers (  Passenger_ID  ));
<br /><br /><br /><br />

                       
  








#Airport Data:<br />
INSERT INTO `Airports` (`Airport_Code`, `Airport_Name`, `Airport_City`, `Airport_Capacity`, `Reputation`, `Duty_Free`, `Lounge`, `Average_Wait_Time`) VALUES ('YUL', 'Trudeau Airport', 'Montreal', '520175', '4.3', '1', '1', '45'), ('YYZ', 'Pearson Airport', 'Toronto', '781971', '4.1', '1', '1', '55'), ('CDG', 'Charles de Gaulle Airport', 'Paris', '648725', '3.8', '1', '1', '33.5'), ('CUN', 'Cancun Airport', 'Cancun', '154962', '4.6', '1', '1', '25'), ('YYG', 'Charlottetown Airport', 'Charlottetown', '3000', '2', '0', '0', '5'),('LHR','London Heathrow','London','100000','3.9','1','1','64.2'),('YVR','Vancouver International', 'Vancouver', '35000','2.9','1','0','14'),('VIE','Vienna International Airport', 'Vienna', '32030','3.3','1','0','27');

<br /><br />

#Airline Data:<br />
INSERT INTO `Airline` (`Airline_Code`, `Airline_Name`, `Reputation_Rate`, `Num_Accidents`) VALUES ('WS', 'WestJet', '3.9', '3'), ('AC', 'Air Canada', '4.7', '3'), ('AG', 'Deutsche Lufthansa', '4.1', '30'), ('AF', 'Air France', '3.5', '48'), ('DL', 'Delta Air Lines', '4', '10'),('TS','Air Transat' ,'3.8','12');
<br /><br />
#aircraft<br />
INSERT INTO `Aircraft` (`Model`, `Manufacturer`, `Wifi_option`, `Passenger_capacity`, `Year_Build`) VALUES ('Boeing 777', 'Boeing', '1', '388', '1994'),('Airbus A350', 'Airbus', '1', '410', '2016'),('Airbus A321neo', 'Airbus', '1', '244', '2016'),('Boeing 737', 'Boeing', '0', '162', '1989'),('Airbus A321', 'Airbus', '0', '200', '1992'),('Airbus A319', 'Airbus', '0', '156', '1996'),('Boeing 787', 'Boeing', '1', '290', '2007');
<br /><br />

#passengers<br />
INSERT INTO Passengers (`Passenger_ID`,`Passport_Number`,`First_Name`,`Last_Name`,`Sex`,`Age`,`Birth`,`Phone`,`Email`) VALUES('1000000','E533388485','Barbara','Khatun','Female','62','1961/02/09','(103)-623-5729','BarbaraKhatun@gmail.com'),('1000001','E533389002','Ashley','Jones','Male','42','1980/10/20','(914)-512-5037','AshleyJones@mcgill.ca'),('1000002','E533389098','Sharon','Gao','Male','29','1994/05/04','(960)-236-6562','SharonGao@msn.com'),('1000003','E533384139','Susan','Jiang','Female','70','1952/12/03','(480)-226-3276','SusanJiang@yahoo.com'),('1000004','E533387876','Rebecca','Liu','Female','51','1971/12/27','(531)-944-6134','RebeccaLiu@gmail.com'),('1000005','E533389365','Betty','Davies','Female','80','1943/04/16','(913)-343-9174','BettyDavies@gmail.com'),('1000006','E533382471','Nancy','Nguyen','Female','19','2004/02/21','(375)-892-1496','NancyNguyen@yahoo.com'),('1000007','E533388499','Laura','Guo','Male','75','1948/06/08','(862)-909-6512','LauraGuo@yahoo.com'),('1000008','E533387004','Betty','Zhang','Male','56','1967/02/26','(940)-402-7856','BettyZhang@yahoo.com'),('1000009','E533388163','Karen','Ahmed','Male','21','2002/02/22','(567)-257-1807','KarenAhmed@gmail.com'),('1000010','E533386740','Ashley','Smith','Male','33','1989/11/14','(679)-402-4949','AshleySmith@yahoo.com'),('1000011','E533383624','Lisa','Jiang','Female','67','1956/02/06','(419)-569-1811','LisaJiang@gmail.com'),('1000012','E533383982','Jennifer','Zheng','Female','63','1960/03/23','(578)-803-7487','JenniferZheng@yahoo.com'),('1000013','E533388793','Brenda','Tang','Female','28','1995/06/23','(763)-978-3707','BrendaTang@gmail.com'),('1000014','E533384451','Mary','Kim','Male','76','1947/06/28','(608)-381-7534','MaryKim@msn.com'),('1000015','E533388609','Amy','Ali','Female','72','1951/05/06','(968)-280-9589','AmyAli@gmail.com'),('1000016','E533383161','Amy','Khatun','Female','61','1961/09/28','(127)-453-3588','AmyKhatun@msn.com'),('1000017','E533389628','Emily','Kumar','Female','71','1952/05/02','(925)-653-8977','EmilyKumar@msn.com'),('1000018','E533383555','Jessica','Smith','Male','27','1995/11/13','(909)-157-8211','JessicaSmith@msn.com'),('1000019','E533386148','Jennifer','Huang','Female','30','1992/09/04','(174)-321-6017','JenniferHuang@mcgill.ca'),('1000020','E533387853','Jennifer','Wei','Female','75','1948/05/09','(527)-112-5852','JenniferWei@yahoo.com'),('1000021','E533388103','Brenda','Yang','Female','51','1972/03/01','(709)-224-8562','BrendaYang@gmail.com'),('1000022','E533384753','Nicole','Lu','Female','66','1956/11/10','(865)-170-4495','NicoleLu@msn.com'),('1000023','E533387471','Margaret','Lin','Female','55','1968/04/02','(453)-288-9509','MargaretLin@yahoo.com'),('1000024','E533385658','Patricia','Ali','Female','34','1988/11/29','(742)-147-9391','PatriciaAli@gmail.com'),('1000025','E533388235','Carol','Guo','Female','49','1974/03/24','(242)-276-3580','CarolGuo@gmail.com'),('1000026','E533388190','Sharon','Wu','Male','54','1969/01/25','(562)-273-7045','SharonWu@gmail.com'),('1000027','E533384549','Angela','Lu','Male','26','1997/02/01','(409)-280-9715','AngelaLu@yahoo.com'),('1000028','E533386198','Amanda','Sun','Male','67','1956/04/12','(302)-772-7353','AmandaSun@gmail.com'),('1000029','E533383699','Angela','Zhao','Female','51','1972/05/08','(256)-267-8534','AngelaZhao@gmail.com'),('1000030','E533387517','Sandra','Maung','Male','30','1993/05/14','(541)-283-1117','SandraMaung@msn.com'),('1000031','E533381369','Stephanie','Yang','Male','27','1996/02/02','(418)-804-2048','StephanieYang@gmail.com'),('1000032','E533385270','Amy','Smith','Female','66','1956/11/05','(757)-191-4521','AmySmith@mcgill.ca'),('1000033','E533381590','Deborah','Lu','Female','27','1996/06/03','(914)-681-8130','DeborahLu@gmail.com'),('1000034','E533388234','Pamela','Garcia','Male','23','2000/04/23','(591)-656-4776','PamelaGarcia@msn.com'),('1000035','E533385456','Pamela','Nguyen','Female','54','1969/06/02','(910)-437-5007','PamelaNguyen@gmail.com'),('1000036','E533387216','Anna','Lu','Male','61','1961/10/13','(901)-939-4163','AnnaLu@gmail.com'),('1000037','E533386838','Susan','Liu','Male','80','1943/04/07','(972)-431-7429','SusanLiu@gmail.com'),('1000038','E533385121','Helen','Kumar','Female','31','1991/11/24','(926)-341-5730','HelenKumar@Oulook.com'),('1000039','E533389346','Jennifer','Liang','Female','21','2001/09/16','(358)-528-2553','JenniferLiang@gmail.com'),('1000040','E533382619','Amanda','Kumar','Female','75','1947/11/02','(152)-732-7028','AmandaKumar@gmail.com'),('1000041','E533387829','Carol','Maung','Female','54','1969/06/15','(992)-889-1390','CarolMaung@yahoo.com'),('1000042','E533381552','Sharon','Devi','Male','45','1977/11/12','(845)-295-8259','SharonDevi@gmail.com'),('1000043','E533385588','Michelle','da Silva','Female','50','1973/06/20','(152)-357-8755','Michelleda Silva@gmail.com'),('1000044','E533387268','Barbara','Huang','Female','21','2001/09/19','(622)-261-5160','BarbaraHuang@gmail.com'),('1000045','E533383158','Dorothy','Lu','Female','30','1993/02/05','(251)-487-2569','DorothyLu@yahoo.com'),('1000046','E533382412','Nancy','Zheng','Male','53','1970/04/29','(175)-657-5890','NancyZheng@msn.com'),('1000047','E533383005','Lisa','Jiang','Female','48','1975/05/26','(890)-404-5590','LisaJiang@yahoo.com'),('1000048','E533382695','Melissa','Davies','Female','21','2001/09/11','(546)-466-8055','MelissaDavies@gmail.com');
<br /><br />
#Flight<br />
INSERT INTO Flight (`Flight_ID`, `Departure_Datetime`, `Reference_Price`, `Duration`, `Arrival_Datetime`, `CO2_Emissions`, `Airline_Code`, `Airport_Code_Departure`, `Airport_Code_Arrival`, `Model`) VALUES ('1000000000', '2021-09-07 02:30:00', '778', '7', '2021-09-07 09:30:00', '383', 'AC', 'YYZ', 'LHR', 'Boeing 777'),('1000000001', '2021-10-11 17:15:00', '813', '7.25', '2021-10-12 00:45:00', '301', 'AF', 'YYZ', 'CDG', 'Airbus A350'),('1000000002', '2021-10-23 13:00:00', '759', '8.5', '2021-10-23 21:45:00', '338', 'TS', 'CDG', 'YYZ', 'Airbus A321neo'),('1000000003', '2021-11-01 15:30:00', '408', '4', '2021-11-01 17:30:00', '172', 'WS', 'YYZ', 'CUN', 'Boeing 737'),('1000000004', '2021-11-20 07:00:00', '507', '4.5', '2021-11-20 11:00:00', '211', 'AC', 'CUN', 'YUL', 'Airbus A321'),('1000000005', '2021-12-13 22:15:00', '167', '1.5', '2021-12-13 23:45:00', '86', 'AC', 'YUL', 'YYG', 'Airbus A319'),('1000000006', '2022-01-26 11:15:00', '1413', '9', '2022-01-26 20:30:00', '380', 'AC', 'VIE', 'YYZ', 'Boeing 787'),('1000000007', '2022-02-11 09:00:00', '329', '4.5', '2022-02-11 13:00:00', '254', 'WS', 'YVR', 'YYZ', 'Boeing 737'),('1000000008', '2022-03-07 20:30:00', '874', '9.75', '2022-03-08 05:45:00', '506', 'AF', 'YVR', 'CDG', 'Boeing 777'),('1000000009', '2022-04-26 14:15:00', '684', '6', '2022-04-26 20:30:00', '430', 'AG', 'YUL', 'CUN', 'Boeing 787'),('1000000010', '2022-05-12 01:00:00', '984', '7.5', '2022-05-12 09:00:00', '238', 'DL', 'YVR', 'CDG', 'Airbus A321');
<br /><br />
#Seats<br />
INSERT INTO Seat (`Seat_ID`,`Class`,`Leg_space`,`USB`,`Flight_ID`) VALUES ('6E1000000000','Economy','35','0','1000000000'),('19E1000000001','First','51','1','1000000001'),('3B1000000002','Economy','29','0','1000000002'),('15B1000000003','Economy','31','0','1000000003'),('17E1000000004','Buisness','43','1','1000000004'),('6D1000000005','Economy','32','1','1000000005'),('27C1000000006','Economy','35','0','1000000006'),('4F1000000007','Economy','35','0','1000000007'),('12E1000000008','First','55','0','1000000008'),('18B1000000009','Buisness','43','0','1000000009'),('28B1000000010','Economy','33','1','1000000010'),('28A1000000010','First','52','1','1000000010'),('8D1000000000','Buisness','44','0','1000000000'),('10D1000000001','First','52','0','1000000001'),('24C1000000002','Buisness','47','0','1000000002'),('1B1000000003','Buisness','44','0','1000000003'),('1D1000000004','First','49','0','1000000004'),('17B1000000005','First','55','0','1000000005'),('17D1000000006','First','56','1','1000000006'),('21C1000000007','Buisness','42','1','1000000007'),('17F1000000008','Economy','35','1','1000000008'),('2A1000000009','Buisness','50','0','1000000009'),('15B1000000010','Economy','30','0','1000000010'),('23D1000000010','Economy','31','1','1000000010'),('8F1000000000','Buisness','50','1','1000000000'),('19C1000000001','Economy','35','0','1000000001'),('9A1000000002','Economy','34','1','1000000002'),('21C1000000003','First','55','1','1000000003'),('20F1000000004','Economy','34','1','1000000004'),('0A1000000005','Buisness','42','0','1000000005'),('7A1000000006','First','49','1','1000000006'),('11A1000000007','Economy','32','0','1000000007'),('23E1000000008','Buisness','44','1','1000000008'),('3E1000000009','First','58','0','1000000009'),('17F1000000010','First','50','0','1000000010'),('22F1000000010','Buisness','40','1','1000000010'),('20E1000000000','First','57','1','1000000000'),('26F1000000001','Economy','34','0','1000000001'),('23A1000000002','First','53','1','1000000002'),('18B1000000003','Economy','32','0','1000000003'),('3B1000000004','Economy','33','1','1000000004'),('29E1000000005','First','53','0','1000000005'),('4A1000000006','Economy','27','1','1000000006'),('20E1000000007','Buisness','42','1','1000000007'),('10E1000000008','Buisness','43','0','1000000008'),('21B1000000009','Economy','34','1','1000000009'),('22C1000000010','First','49','1','1000000010'),('28C1000000010','First','52','1','1000000010'),('28D1000000000','Buisness','51','1','1000000000');
<br /><br />
#tickets<br />
INSERT INTO Ticket (`Reference_Num`,`Purchase_ID`,`Priority`,`Meal_Option`,`Discount`,`Purchase_Date`,`Price_Paid`,`Seat_ID`,`Passenger_ID`) VALUES ('98116678','100000','5','1','0.58','2021/07/28','2123','6E1000000000','1000047'),('25288789','100001','5','0','0.13','2021/09/03','141','19E1000000001','1000009'),('15424738','100002','3','1','0.04','2021/04/12','3372','3B1000000002','1000039'),('76565625','100003','3','0','0.75','2022/05/31','2068','15B1000000003','1000033'),('88946875','100004','2','0','0.54','2021/03/18','3416','17E1000000004','1000033'),('68625682','100005','2','0','0.16','2021/08/29','2063','6D1000000005','1000026'),('97789717','100006','2','1','0.54','2021/11/27','2353','27C1000000006','1000008'),('10115493','100007','3','0','0.36','2021/01/20','3141','4F1000000007','1000011'),('85081387','100008','3','1','0.44','2022/07/25','3528','12E1000000008','1000028'),('83649941','100009','5','1','0.67','2021/11/28','1973','18B1000000009','1000014'),('46762687','100010','5','1','0.43','2021/02/03','2660','28B1000000010','1000045'),('67971328','100011','4','0','0.11','2021/09/06','1646','28A1000000010','1000038'),('58979937','100012','3','1','0.75','2022/07/21','2767','8D1000000000','1000010'),('26981698','100013','3','0','0.66','2021/06/07','3825','10D1000000001','1000006'),('33677835','100014','4','1','0.55','2022/07/26','2820','24C1000000002','1000023'),('70208103','100015','3','1','0.51','2021/12/09','1155','1B1000000003','1000005'),('98917854','100016','1','0','0.56','2022/05/08','3190','1D1000000004','1000031'),('60310346','100017','1','0','0.53','2021/06/22','2786','17B1000000005','1000041'),('98278906','100018','5','0','0.62','2022/06/29','459','17D1000000006','1000008'),('53265728','100019','1','1','0.25','2021/09/25','1892','21C1000000007','1000034'),('10488723','100020','4','0','0.05','2021/05/24','1942','17F1000000008','1000022'),('76812966','100021','4','0','0.49','2021/09/14','434','2A1000000009','1000034'),('50649546','100022','5','0','0.03','2021/05/08','2900','15B1000000010','1000048'),('66210951','100023','3','1','0.2','2021/07/20','1595','23D1000000010','1000023'),('61429562','100024','2','1','0.38','2022/03/28','3115','8F1000000000','1000002'),('42127317','100025','3','1','0.15','2021/08/19','2922','19C1000000001','1000022'),('81167276','100026','3','0','0.12','2021/07/03','2488','9A1000000002','1000041'),('89932920','100027','2','1','0.56','2022/02/21','1835','21C1000000003','1000048'),('34661417','100028','1','1','0.12','2022/04/02','709','20F1000000004','1000025'),('99413467','100029','4','0','0.05','2021/06/11','871','0A1000000005','1000007'),('56581962','100030','4','0','0.61','2021/05/15','2149','7A1000000006','1000003'),('18147218','100031','5','0','0.32','2022/07/02','1729','11A1000000007','1000003'),('10932396','100032','1','1','0.54','2022/01/14','2923','23E1000000008','1000022'),('84922763','100033','2','0','0.26','2021/11/13','741','3E1000000009','1000012'),('28220074','100034','4','1','0.49','2022/05/03','2279','17F1000000010','1000033'),('33624220','100035','4','1','0.69','2021/05/07','3743','22F1000000010','1000024'),('74256816','100036','2','1','0.25','2021/11/19','2881','20E1000000000','1000044'),('15190210','100037','4','0','0.09','2022/02/04','1742','26F1000000001','1000018'),('96528908','100038','1','1','0.18','2022/07/06','1744','23A1000000002','1000038'),('40411108','100039','3','0','0.7','2022/08/22','2545','18B1000000003','1000018'),('10463257','100040','2','0','0.63','2022/03/07','714','3B1000000004','1000046'),('29476021','100041','4','0','0.08','2021/09/08','2544','29E1000000005','1000001'),('34700329','100042','2','0','0.54','2021/09/14','845','4A1000000006','1000013'),('92982920','100043','2','1','0.13','2022/06/29','136','20E1000000007','1000009'),('11595972','100044','1','1','0.21','2022/03/06','1430','10E1000000008','1000036'),('11404421','100045','3','0','0.13','2021/11/10','3179','21B1000000009','1000017'),('52951489','100046','2','1','0.6','2022/05/02','3364','22C1000000010','1000016'),('26236480','100047','5','1','0.45','2022/05/14','3860','28C1000000010','1000015'),('36658249','100048','5','1','0.37','2022/03/12','3832','28D1000000000','1000034');
<br />
</h7>

<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q1.php---------------------------------------

<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT Flight_ID, Duration, CO2_Emissions
FROM Flight
WHERE Duration < 5;
 ";
 #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show the CO2 emission rate of all the flights that have an average duration less than 5 hours.";
 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","[Display the CO2 emission rate of all the flights that have an average duration less than 5 hours.]
";
echo "</b>","<br>","The purpose of this query is to understand if the duration of the flight is correlated to the amount of CO2 emitted by the aircraft in order to better meet the demand of eco-friendly travelers.
";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Flight_ID</th><th>Duration</th><th>CO2_Emissions</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Flight_ID"]. "</td><td>" . $row["Duration"]. "</td><td>". $row["CO2_Emissions"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q2.php---------------------------------------


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT Model,
COUNT(Model) AS Number_Aircraft_No_Wifi,
Wifi_Option
FROM Aircraft
WHERE Year_Build < 2008
AND Wifi_Option = 0
GROUP BY Model;
 ";
 
 #objective goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","[Show all the aircrafts that were built before 2008 and that do not have the WIFI option.]
";
echo "</b>","<br>","The purpose of this question is for the team to know what aircrafts they should not use for their flights as they are more ancient and do not have the WIFI option.
";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Model</th><th><th><th>Number_Aircraft_No_Wifi</th><th><th>Wifi_Option</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Model"]. "</td><td><td><td>" . $row["Number_Aircraft_No_Wifi"]. "</td><td><td>". $row["Wifi_Option"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q3.php---------------------------------------




<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT Airline_Name,
Reputation_rate
FROM Airline
WHERE Reputation_rate > (SELECT AVG (Reputation_rate) AS average_rep FROM Airline);
 ";
 #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show the airline names that have a reputation rate greater than the average.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","[The purpose of this query is for the airline managers to understand who are the most popular airlines on the market that significantly stand out from the others.
";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Airline_Name</th><th>Reputation_rate</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Airline_Name"]. "</td><td>" . $row["Reputation_rate"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>




------------------------------------------------Q4.php---------------------------------------


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT Airport_name, Reputation 
FROM Airports
WHERE Reputation > 4;
 ";
 #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show the Airports that have a reputation rate greater than 4.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","The purpose of this query is for the marketing manager to target the most popular airports and to understand more in depth where this high rate comes from.
";


echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Airport_name</th><th>Reputation</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Airport_name"]. "</td><td>" . $row["Reputation"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q5.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT Sex,
AVG(Age) AS average_age
FROM Passengers
GROUP BY Sex;
 ";
 
 #objective goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show the average age of passengers by sex.
";

echo "<br><br>","<b>","Objective:","</b>","<br>","The marketing manager wants to launch a new ad campaign that would ultimately increase our customer retention. He needs the average age of our customers in order to create a campaign that would  be tailored to the specific demographic of our customers.";


echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Sex</th><th>average_age</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Sex"]. "</td><td>" . $row["average_age"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q6.php---------------------------------------

<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT DISTINCT COUNT(Passenger_ID) AS Number_of_Top_Tier
FROM Ticket
WHERE Price_Paid >= 2000;
 ";
 #objective goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show customers that purchased tickets that are worth 2000$ and more.
";
echo "<br><br>","<b>","Objective:","</b>","<br>","The customers who have ever bought a ticket whose Price_Paid is greater than $2000 are considered “top-tier” customers. Show how many “top-tier” customers the company has.
";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Number_of_Top_Tier</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Number_of_Top_Tier"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q7.php---------------------------------------


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT AVG(CO2_Emissions) AS Average_CO2_Emission 
FROM Flight;
 ";
 #objective goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show the average CO2 emission of all the flights.
";
echo "<br><br>","<b>","Objective:", "</b>","<br>","Our shareholders are becoming increasingly concerned by the environment. They want us to display  the average CO2 emission of all the flights in our database in order to see if our business is environmentally friendly.
";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Average_CO2_Emission</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Average_CO2_Emission"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q8.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT Airport_Name, Reputation
FROM Airports
WHERE Reputation > (SELECT AVG (Reputation) AS average_rep FROM Airports);
 ";
  #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Airports with higher than average ratings";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","We want to improve the customer experience of our top-tier customers, as a result we will recommend them flights that are going to the best rated airports.";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results update line 47
if ($result->num_rows > 0) {
    echo "<table><tr><th>Airport Name</th><th>Reputation</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table headers
        echo "<tr><td>" . $row["Airport_Name"]. "</td><td>" . $row["Reputation"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />

</body>
</html>




------------------------------------------------Q9.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT MAX(Price_Paid) AS Max_Price,
Min(Price_Paid) AS Minimum_Price 
FROM Ticket;
 ";
  #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Max and Min price of tickets";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","Customers are becoming more price sensitive. We want to determine the range of prices our site offers to update our rating on google. Keeping our prices low will allow us to remain competitive.";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
    echo "<table><tr><th>Max_Price</th><th>Minimum_Price</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
         echo "<tr><td>" . $row["Max_Price"]. "</td><td>" . $row["Minimum_Price"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>


------------------------------------------------Q10.php---------------------------------------


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT
a.Sex,
COUNT(Sex) AS 'Num_Gmails'
FROM 
(SELECT
p.Passenger_ID,
p.Sex
FROM Passengers p, Ticket t
WHERE p.Passenger_ID = t.Passenger_ID
AND p.Email LIKE '%@gmail.com') a
GROUP BY Sex;
 ";
  #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Number gmail accounts by male or females passengers";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","We would like to improve our offerings for Gmail account users to make our emails go from the “promotion” section to the “primary section” as sales believes this will give us better visibility, but only for Women. How many Female customers do we currently have on gmail?";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results update line 47
if ($result->num_rows > 0) {
    echo "<table><tr><th>Number of Gmail Emails</th><th>Sex</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table headers
        echo "<tr><td>" . $row["Num_Gmails"]. "</td><td>" . $row["Sex"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q11.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT
a.Airport_City AS 'Destination',
COUNT(a.Airport_City) AS 'Popularity'
FROM
#Create large dataset joining all the tables together
(SELECT ap.Airport_City
FROM Ticket t, Seat s, Flight f, Airports ap
WHERE t.Seat_ID = s.Seat_ID
#Make sure the join is for the appropriate primary and foreign keys
AND s.Flight_ID = f.Flight_ID
AND ap.Airport_Code=f.Airport_Code_Arrival) a
GROUP BY a.Airport_City
#sort by popularity descending. Largest on top
ORDER BY COUNT(a.Airport_City)
#Limit to top 10
LIMIT 10;
 ";
  #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Most traveled airports by number of tickets.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","We are looking to grow our business by advertising for our least popular destinations. What is the least popular destination we have booked and can use for advertising?";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results update line 47
if ($result->num_rows > 0) {
    echo "<table><tr><th>Desination</th><th>Popularity</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table headers
        echo "<tr><td>" . $row["Destination"]. "</td><td>" . $row["Popularity"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />

</body>
</html>




------------------------------------------------Q12.php---------------------------------------


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT
DISTINCT ap.Airport_City,
ap.Airport_Code,
COUNT(t.Reference_Num) AS 'Num_tic'
FROM Ticket t, Seat s, Flight f, Airports ap
#Make sure the join is for the appropriate primary and foreign keys
WHERE t.Seat_ID = s.Seat_ID
AND s.Flight_ID = f.Flight_ID
AND ap.Airport_Code = f.Airport_Code_Arrival
GROUP BY ap.Airport_Code
#sort by popularity ASC. Least popular on top
ORDER BY COUNT(ap.Airport_City) ASC
LIMIT 3;
 ";
  #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Least popular desination buy number of tickets.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>"," All airlines are looking for help. They have asked what is our least popular destination so that they can evaluate and either advertise or drop the flights to that destination.";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results update line 47
if ($result->num_rows > 0) {
    echo "<table><tr><th>Airport City</th><th>Airport Code</th><th>Number of Tickets</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table headers
        echo "<tr><td>" . $row["Airport_City"]. "</td><td>" . $row["Airport_Code"]."</td><td>" . $row["Num_tic"]. "</td></tr>"; 
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>

------------------------------------------------Q13.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT
    f.model,
    ROUND(a.SeatCount/COUNT(f.model),1) AS 'Average_Occupancy'
FROM Flight f, (SELECT
        DISTINCT af.model,
        COUNT(s.Seat_ID) AS SeatCount
    #Cartesian joining together the aircraft, airlines and flight tables
    FROM Aircraft af, Airline al, Flight f, Seat s
    WHERE af.Model = f.Model
        #Make sure the join is for the appropriate primary and foreign keys
        AND al.Airline_Code = f.Airline_Code
        AND s.Flight_ID = f.Flight_ID
    GROUP BY af.model
    ORDER BY COUNT(af.model) DESC) a
WHERE a.model = f.model
GROUP BY f.model
ORDER BY a.SeatCount/COUNT(f.model) ASC;
 ";
  #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Most popular aircraft by average number of tickets per flight.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","The airlines are back! They were so impressed with work they wanted help! Now they are worried about their aircraft, and they want help with which aircraft they should retire based on passenger popularity. What is the least popular aircraft based on the average number of tickets per flight?";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results update line 47
if ($result->num_rows > 0) {
    echo "<table><tr><th>Airplane Model</th><th>Average Occupancy of Airplane</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table headers
        echo "<tr><td>" . $row["model"]. "</td><td>" . $row["Average_Occupancy"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>


------------------------------------------------Q14.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT
    p.Sex,
    #The below returns the domain name by searching for the first ‘@’ symbol and returning everything to the right of it aka the bit we care about
    RIGHT(email, length(email)-INSTR(email, '@')),
    100*COUNT(RIGHT(email, length(email)-INSTR(email, '@')))/c.Total_Count AS '%_of_Email_Domain'
FROM Passengers p,
    #The subquery will pull together a total count of all rows needed for proportion
    #this is then cartesian joined to the other results but grouped by is applied 
    (SELECT
        COUNT(*) AS 'Total_Count'
    FROM Passengers) c
#Grouping the
GROUP BY RIGHT(email, length(email)-INSTR(email, '@')),c.Total_Count,p.Sex
ORDER BY COUNT(RIGHT(email, length(email)-INSTR(email, '@'))) DESC;
 ";

  #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Number of emails broken down by domain and geneder.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","We are attempting to have an email campaign. The colors and designs are customized based on the customer but some fundamental design choices are biased towards one gender or another and show up better on one domain (Gmail vs. Yahoo) versus others. Who should the marketing team design the email campaign for?";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results update line 47
if ($result->num_rows > 0) {
    echo "<table><tr><th>Customer Sex</th><th>% of Email Domains</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table headers
        echo "<tr><td>" . $row["Sex"]. "</td><td>" . $row["%_of_Email_Domain"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>





------------------------------------------------Q15.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT Model, AVG(CO2_Emissions) AS average
FROM Flight
WHERE Duration BETWEEN 5 AND 10
GROUP BY Model
ORDER BY average DESC
LIMIT 3;
 ";

#Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Find out the top three aircraft models with the highest average CO2 emissions for flights with durations between 5 and 10 hours.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>"," In recent years, increasing global warming has put increasing pressure on the aviation industry. Green aviation has become a hot topic, and both governments and ICAO attach great importance to it. So, we want to look at the average CO2 emissions of flights for the specific aircraft model with the most common flight duration between 5 and 10 hours, to provide data support for our subsequent optimization decisions.
";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Model</th><th>Average CO2 Emissions</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Model"]. "</td><td>" . $row["average"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>







------------------------------------------------Q16.php---------------------------------------





<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql='
SELECT r,
	(CASE WHEN ABS(r) BETWEEN 0.9 AND 1.0 THEN "Very highly correlated"
    WHEN ABS(r) BETWEEN 0.7 AND 0.9 THEN "Highly correlated"
	WHEN ABS(r) BETWEEN 0.5 AND 0.7 THEN "Moderately correlated"
	WHEN ABS(r) BETWEEN 0.3 AND 0.5 THEN "Low correlated"
	ELSE "No significant correlation" END) AS CorrelationCoefficients
FROM(
	SELECT
		ROUND((SUM(
			(Reputation_Rate - (SELECT ROUND(AVG(Reputation_Rate),2) AS Avg_Reputation_Rate FROM Airline))
			 * (Num_Accidents - (SELECT ROUND(AVG(Num_Accidents),2) AS Avg_Num_Accidents FROM Airline))
			)
		/ (
			(COUNT(Reputation_Rate) - 1)
			 * (SELECT ROUND(STDDEV_SAMP(Reputation_Rate) * STDDEV_SAMP(Num_Accidents),2) AS Division FROM Airline)
			)
		),2) AS r
	FROM Airline
) AS temp;
 ';

#Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Find correlation between an airline's reputation score and its number of accidents.
";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","Recently, aircraft accidents have become more and more frequent. We want to know if each airline's reputation score would be affected by these incidents, so that better decisions could be made to improve the reputation rate.";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>r</th><th>CorrelationCoefficients</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["r"]. "</td><td>" . $row["CorrelationCoefficients"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q17.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT *
FROM(
	SELECT Seat_ID,
		Class,
		Model,
		Leg_Space,
		ROUND(AVG(Leg_Space) OVER (PARTITION BY Class, Model),2) AS avg_Leg_Space
	FROM Seat s
	JOIN Flight f ON s.Flight_ID = f.Flight_ID
	ORDER BY Seat_ID) AS temp
WHERE Leg_Space < avg_Leg_Space;
 ";
#Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Find out the average leg space of seats by class and aircraft model";
 
 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>"," We want to improve the passenger experience, so we decided to compare each seat’s leg space with its related average leg space based on its class type and aircraft model. Despite being in the same class of the same aircraft model, leg space can vary depending on the position of the seats in the cabin. So, for those seats that are lower than their corresponding averages, we want to adjust them
";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Seat_ID</th><th>Class</th><th>Model</th><th>Leg_Space</th><th>avg_Leg_Space</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Seat_ID"]. "</td><td>" . $row["Class"]. "</td><td>". $row["Model"]. "</td><td>". $row["Leg_Space"]. "</td><td>". $row["avg_Leg_Space"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q18.php---------------------------------------


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT Airport_City AS 'Destination',
Departure_Datetime,
Reference_Price,
Duration 
FROM Flight AS f 
INNER JOIN Airports AS ap ON f.Airport_Code_Departure = ap.Airport_Code
WHERE ap.Airport_City = 'Toronto'
AND YEAR (f.Departure_Datetime) = 2021 
AND MONTH (f.Departure_Datetime) = 10 
ORDER BY Reference_Price ASC;
 ";
 #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show Destination city, Departure_Datetime, Price, Duration which flights’ departure date within 2021-Oct and departure airport is Pearson, Sort prices in ASC.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","There is a customer who lives in Toronto and works on an intensive project, but now, he will have a month break in 2021-Oct and he is willing to travel somewhere by taking flight, but he has no plan right now. Our business website is providing a function to let him search all the eligible flights for his demand by using his city airport and show several important information about the flights. For example, this guy is price sensitive, then we sort the price of each flight for him to let him make a choice.";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Destination</th><th> Departure_Datetime   </th><th>Reference_Price</th><th> Duration </th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row['Destination']. "</td><td>" . $row["Departure_Datetime"]."</td><td>". $row["Reference_Price"]."</td><td>". $row["Duration"]."</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q19.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT al.Airline_Name, 
COUNT(f.Flight_ID) 
FROM Airline AS al 
INNER JOIN Flight AS f 
INNER JOIN Aircraft AS ac 
INNER JOIN Seat AS s 
INNER JOIN Airports as ap ON al.Airline_Code = f.Airline_Code 
AND f.Model = ac.Model 
AND f.Flight_ID = s.Flight_ID 
AND f.Airport_Code_Departure = ap.Airport_Code 
WHERE s.Class = 'First' 
AND s.USB = 1 
AND ac.Wifi_Option = 1 
AND ap.Lounge = 1 
GROUP BY al.Airline_Code;
 ";
 #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show airline name, flight ID which flight has first class seat, USB, and WIFI, Lounge as well.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","Business case: For our VIP customers, they are always looking for a high quality fly experience. Especially for businessmen who often need to travel by air for work, we select all the high-quality flights for them that make sure their business will not be affected.";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Airline_Name</th><th>#Flight</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Airline_Name"]. "</td><td>" . $row["COUNT(f.Flight_ID)"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



------------------------------------------------Q20.php---------------------------------------



<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT CONCAT(First_Name,' ', Last_Name) AS 'Target_Name',
Birth,
Phone
FROM Passengers AS p 
WHERE p.Passenger_ID NOT IN (SELECT Passenger_ID FROM Ticket);
 ";
 #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show the name, birthday, phone number of all passengers who do not currently have a ticket purchased.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>","For those customers who have a potential purchase chance, our business is thinking about sending each of them a coupon through SMS message to reactivate them, but due to budget control, we will only send coupons on the birthday of those customers.
";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Target name</th><th>BirthDay</th><th>Phone</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Target_Name"]. "</td><td>" . $row["Birth"]. "</td><td>". $row["Phone"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>




------------------------------------------------Q21.php---------------------------------------


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Flight</title>
    <link rel="stylesheet" href="css/mycss.css">
  </head>
<body>

<h1>Flights</h1>

<?php

$servername = "sql203.epizy.com";
$username = "epiz_32444690";
$password = "qCiiaUqIpzIvWe";
$db = "epiz_32444690_Google_Flight";
$port = 3306;

$conn = mysqli_connect($servername,$username, $password, $db, $port);

#Modify $sql with the query
$sql="SELECT Flight_ID,
al.Num_Accidents AS 'Num_accident of Airline' 
FROM Flight as f
INNER JOIN Airline as al ON f.Airline_Code = al.Airline_Code
ORDER BY al.Num_Accidents ASC;
 ";
 #Summary goes here
echo "<br><br>","<b>","Summary:","</b>","<br>","Show the airline name and all the flights it has, the airline which has a minimal number of accidents.";

 #objective goes here
echo "<br><br>","<b>","Objective:","</b>","<br>"," For the only flight with the lowest number of accidents, we will advertise this feature on the homepage of the website to attract safety-conscious passengers to check all flights belonging to this airline.
";

echo "<br><br><b>","The query is: ","</b><br>",$sql,"<br><br><br>";

$result = $conn->query($sql);

#table of results
if ($result->num_rows > 0) {
	#headers are below
    echo "<table><tr><th>Flight_ID</th><th>Num_accident of Airline</th></tr>";
    // output data of each row
    while($row = $result->fetch_assoc()) {
        #the below line are the table rows
        echo "<tr><td>" . $row["Flight_ID"]. "</td><td>" . $row["Num_accident of Airline"]. "</td></tr>";
    }
    echo "</table>";
} else {
    echo "0 results";
}

$conn->close();
?>
<br />
<br />
<a href="GoogleFlight.html">Home Page</a> <br />
</body>
</html>



